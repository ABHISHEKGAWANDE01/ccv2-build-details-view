<idea-plugin version="2">

    <id>ccom.intellij.idea.plugin.hybris.impex</id>
    <name>Hybris impex plugin</name>
    <version>1.4</version>

    <vendor email="AlexanderBartash@gmail.com">Alexander Bartash</vendor>

    <description>
        <![CDATA[
          Features:
          <br/>
          - Syntax highlighting for Hybris impex files.
          <br/>
          - Automatic alignment into columns via "Reformat code".

          <br/>
          - Autocompletion within the header for modifier name and value.

          <br/>
          - Autocompletion for hybris types based on the current IntelliJ-Project (hybris coretypes + your custom types).

          <br/>
          - Autocompletion for hybris attributes based on the current IntelliJ-Project (hybris coretypes + your custom types).

          <br/>
          <br/>
          Due autocompletion based on the IntelliJ-Class-Index this feature is only available after the IntelliJ-indexing
          process is finished. The indexing is automatically ran on the first completion-action. After an *-item.xml change or
          adding a new hybris-extension - and ant install - you can rerun the "indexing" mechanism with Tools -> Index [y]-types.

          <br/>
          <br/>
          Developers:
          <br/>
          - Alexander Bartash
          <br/>
          - Markus Priegl
      ]]>
    </description>

    <change-notes>
        <![CDATA[
          1.4:
          <br/> - Implemented automatic alignment into columns via "Reformat code" feature.
          <br/>
          <br/>
          1.3.3:
          <br/> - Fixes for reported syntax highlighting bugs.
          <br/>
          <br/>
          1.3.2:
          <br/> - Various lexer improvements. Macros syntax highlighting fixed.
          <br/>
          <br/>
          1.3.1:
          <br/> - Added autocompletion for Hybris type system based on ItemModel-inheritance. (Thanks to Markus Priegl)
          <br/>
          <br/>
          1.3:
          <br/> - Added simple code completion within the header for modifier name and value. (Thanks to Markus Priegl)
          <br/>
          <br/>
          1.2.2:
          <br/> - Header related modifier value detection rules have been fixed.
          <br/>
          <br/>
          1.2.1:
          <br/> - Character '-' added to allowed chars for an attribute name.
          <br/> - Ignore case option has been enabled at jFlex.
          <br/> - Colours has been fixed a bit.
          <br/>
          <br/>
          1.2:
          <br/> - Lexical analyzer has been improved a lot.
          <br/> - Correct colours configuration implemented for the Default and Darcula color schemes.
          <br/> - The plugin was rebuilt for JDK 1.6 as idea requires 1.6+.
          <br/>
          <br/>
          1.1.1:
          <br/>- The plugin was rebuilt for JDK 1.5.
          <br/>
          <br/>
          1.1:
          <br/>- The plugin was rebuilt for JDK 1.6_45.
      ]]>
    </change-notes>

    <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
    <idea-version since-build="135"/>

    <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
         on how to target different products -->
    <!-- uncomment to enable plugin in all products
    <depends>com.idea.modules.lang</depends>
    -->

    <extensions defaultExtensionNs="com.intellij">
        <!-- Add your extensions here -->
        <fileTypeFactory implementation="com.intellij.idea.plugin.hybris.impex.file.ImpexFileTypeFactory"/>

        <lang.parserDefinition language="Impex"
                               implementationClass="com.intellij.idea.plugin.hybris.impex.ImpexParserDefinition"/>

        <lang.syntaxHighlighterFactory key="Impex"
                                       implementationClass="com.intellij.idea.plugin.hybris.impex.highlighting.ImpexSyntaxHighlighterFactory"/>
        <colorSettingsPage implementation="com.intellij.idea.plugin.hybris.impex.highlighting.ImpexColorSettingsPage"/>

        <additionalTextAttributes scheme="Default" file="colorSchemes/ImpexDefault.xml"/>
        <additionalTextAttributes scheme="Darcula" file="colorSchemes/ImpexDarcula.xml"/>

        <lang.commenter language="Impex"
                        implementationClass="com.intellij.idea.plugin.hybris.impex.commenter.ImpexCommenter"/>

        <lang.formatter language="Impex"
                        implementationClass="com.intellij.idea.plugin.hybris.impex.formatting.ImpexFormattingModelBuilder"/>
        <codeStyleSettingsProvider
                implementation="com.intellij.idea.plugin.hybris.impex.formatting.ImpexCodeStyleSettingsProvider"/>
        <langCodeStyleSettingsProvider
                implementation="com.intellij.idea.plugin.hybris.impex.formatting.ImpexLanguageCodeStyleSettingsProvider"/>

        <completion.contributor language="Impex"
                                implementationClass="com.intellij.idea.plugin.hybris.impex.completion.ImpexCompletionContributor"/>
    </extensions>

    <application-components>
        <!-- Add your application components here -->
    </application-components>

    <project-components>
        <!-- Add your project components here -->
    </project-components>

    <actions>
        <action id="Impex.IndexHybrisItemTypes"
                class="com.intellij.idea.plugin.hybris.impex.indexer.IndexItemTypesAction"
                text="Index [y]-types"
                description="Run index-recreation of [y]-types (only works after ItemModel was being created!)">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>

</idea-plugin>
